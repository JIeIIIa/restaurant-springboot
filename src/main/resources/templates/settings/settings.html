<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      lang="en">


<head th:replace="~{fragments/profiles/activeProfile :: head (pageTitle = #{pages.settings.title})}">
    <title>PhotoPond - Settings</title>
    <!-- Required meta tags -->
    <meta charset="UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap CSS with custom styles -->
    <link rel="stylesheet" href="../../static/css/photopond.css">
</head>

<body>

<nav th:replace="~{fragments/default-page :: header('settings')}">Static header</nav>

<!--/*@thymesVar id="startItem" type="java.lang.Integer"*/-->
<div class="container-fluid" id="settings" th:with="login=${#authentication.name}">
    <!--/*@thymesVar id="activeItem" type="java.lang.String"*/-->
    <div class="row">
        <div class="col-2 col-md-3">
            <div class="card settings-card bg-dark border-primary">
                <div class="card-header bg-info border-primary d-inline-block text-center pl-0 pr-0"
                     data-toggle="tooltip" data-placement="bottom"
                     title="Settings" th:title="#{pages.settings.menu.header}">
                    <h3 class="truncate">
                        <i class="fa fa-cog"></i>
                        <span class="pl-lg-2 d-none d-md-inline"
                              th:text="#{pages.settings.menu.header}">
                            Settings
                        </span>
                    </h3>
                </div>
                <div class="card-body p-0">
                    <div class="list-group">
                        <a href="javascript:void(0)"
                           th:href="@{/user/{login}/settings/password(login=${login})}"
                           data-toggle="tooltip" data-placement="bottom"
                           title="Change password" th:title="#{pages.settings.menu.password.title}"
                           class="list-group-item list-group-item-action
                                    border-primary border-left-0 border-right-0 d-inline-block
                                    text-light text-center text-md-left
                                    pl-0 pr-0 pl-sm-3 pr-sm-3"
                           th:classappend="${activeItem == 'password'}? 'active, bg-secondary' : ''">
                            <i class="fa fa-key"></i>
                            <span class="pl-lg-3 d-none d-md-inline" th:text="#{pages.settings.menu.password.text}">Password</span>
                        </a>
                        <a href="javascript:void(0)"
                           th:href="@{/user/{login}/settings/avatar(login=${login})}"
                           data-toggle="tooltip" data-placement="bottom"
                           title="Change avatar" th:title="#{pages.settings.menu.avatar.title}"
                           class="list-group-item list-group-item-action 
                                    border-primary border-left-0 border-right-0 d-inline-block 
                                    text-light text-center text-md-left
                                    pl-0 pr-0 pl-sm-3 pr-sm-3"
                           th:classappend="${activeItem == 'avatar'}? 'active, bg-secondary' : ''">
                            <i class="fa fa-user-circle"></i>
                            <span class="pl-lg-3 d-none d-md-inline" th:text="#{pages.settings.menu.avatar.text}">Avatar</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-10 col-md-9">
            <div class="row">
                <div class="col-12" th:if="${activeItem} == 'password'">
                    <div id="changePasswordCard"
                         th:replace="~{settings/changePassword :: changePasswordCard (${login})}" th:remove="tag">
                    </div>
                </div>
                <div class="col-12" th:if="${activeItem} == 'avatar'">
                    <!--                        <change-avatar-card inline-template-->
                    <!--                                            id="changeAvatarCard"-->
                    <!--                                            th:insert="~{settings/changeAvatar :: changeAvatarCard}">-->
                    <!--                        </change-avatar-card>-->
                </div>

            </div>
        </div>
    </div>
</div>

<div th:replace="~{fragments/profiles/activeProfile :: bottomScripts}" th:remove="tag">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>


    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha256-ZvOgfh+ptkpoa2Y4HkRY28ir89u/+VRyDE7sB7hEEcI="
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
            integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</div>

</body>
</html>